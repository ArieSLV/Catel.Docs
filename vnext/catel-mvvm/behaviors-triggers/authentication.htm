<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Authentication - Catel documentation</title>
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../css/theme_colors.css" type="text/css" />
    <link rel="stylesheet" href="../../css/styles/vs.css">
    <link rel="stylesheet" href="../../css/font-awesome.4.5.0.min.css">
</head>
<body role="document">
    <div class="grid-for-nav">
        <nav data-toggle="nav-shift" class="nav-side stickynav">
            <div class="side-nav-search">
                <a href="../../index.htm"><i class="fa fa-home"></i> Catel documentation</a>
                <div role="search">
                    <form id="search-form" class="form" action="../../Docnet_search.htm" method="get">
                        <input type="text" name="q" placeholder="Search docs" />
                    </form>
                </div>
            </div>
            <div class="menu menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
<ul>
<li class="tocentry"><a href="../../Home.htm">Home</a>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Introduction.htm">Introduction</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../FAQ.htm">FAQ</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Setup,deployment&projects.htm">Setup, deployment & projects</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Gettingstarted.htm">Getting started</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Examples.htm">Examples</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../CatelCore.htm">Catel.Core</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../CatelMVVM.htm">Catel.MVVM</a></span></li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Auditing.htm">Auditing</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../Behaviors&triggers.htm">Behaviors & triggers</a></span></li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/introduction.htm">Introduction</a>
</li>
<li class="tocentry current"><a class="current" href="../../catel-mvvm/behaviors-triggers/authentication.htm">Authentication</a>
<ul class="currentrelative">
<li class="tocentry"><a href="#attachments">Attachments:</a></li>
</ul>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/autocompletion.htm">AutoCompletion</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/autoscroll.htm">AutoScroll</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/delay-binding-update.htm">DelayBindingUpdate</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/double-click-to-command.htm">DoubleClickToCommand</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/event-to-command.htm">EventToCommand</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/focus.htm">Focus</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/focus-first-control.htm">FocusFirstControl</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/focus-on-key-press.htm">FocusOnKeyPress</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/hide-until-view-model-loaded.htm">HideUntilViewModelLoaded</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/key-press-to-command.htm">KeyPressToCommand</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/mouse-info.htm">MouseInfo</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/navigate.htm">Navigate</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/numeric-textbox.htm">NumericTextBox</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/select-text-on-focus.htm">SelectTextOnFocus</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/update-binding-on-password-changed.htm">UpdateBindingOnPasswordChanged</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/behaviors-triggers/update-binding-on-text-changed.htm">UpdateBindingOnTextChanged</a>
</li>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Bindings.htm">Bindings</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Commands&events.htm">Commands & events</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Converters.htm">Converters</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Designers.htm">Designers</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Locators&namingconventions.htm">Locators & naming conventions</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Services.htm">Services</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Viewmodels.htm">View models</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Views.htm">Views</a></span>
</li>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../tips-tricks/index.htm">Tips & tricks</a></span>
</li>

</ul>
				<div class="toc-footer">
					<span class="text-small">
						<hr/>
						<a href="https://github.com/FransBouma/DocNet" target="_blank">Made with <i class="fa fa-github"></i> DocNet</a>
					</span>
				</div>	
			</div>
            &nbsp;
        </nav>
        <section data-toggle="nav-shift" class="nav-content-wrap">
            <nav class="nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="nav-top" class="fa fa-bars"></i>
                <a href="../../index.htm">Catel documentation</a>
            </nav>
            <div class="nav-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <div class="breadcrumbs">
<ul><li><a href="../../Home.htm">Home</a></li> / <li><a href="../../CatelMVVM.htm">Catel.MVVM</a></li> / <li><a href="../../Behaviors&triggers.htm">Behaviors & triggers</a></li> / <li><a href="../../catel-mvvm/behaviors-triggers/authentication.htm">Authentication</a></li></ul>
					
                    </div>
                    <hr />
                </div>
                <div role="main">
                    <div class="section">
<h1 id="authentication">Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>The Authentication behavior is able to hide, collapse or disable UI elements based on the current user state. The behavior uses the registered IAuthenticationProvider instances to determine whether the user has access to the specified UI element.</p>
<p>1) Creating an authentication provider:</p>
<pre class="nocode">/// &lt;summary&gt;
/// Example implementation of the &lt;see cref=&quot;AuthenticationProvider&quot;/&gt;. This class is not really implemented
/// like it should, because it shouldn't be this easy to set the current role. However, for the sake of simplicity,
/// this class has a simple property with the role of the user.
/// &lt;/summary&gt;
public class AuthenticationProvider : IAuthenticationProvider
{
    /// &lt;summary&gt;
    /// Gets or sets the role the user is currently in.
    /// &lt;/summary&gt;
    /// &lt;value&gt;The role.&lt;/value&gt;
    public string Role { get; set; }
    
    public bool CanCommandBeExecuted(ICatelCommand command, object commandParameter)
    {
        return true;
    }
    
    public bool HasAccessToUIElement(FrameworkElement element, object tag, object authenticationTag)
    {
        var authenticationTagAsString = authenticationTag as string;
        if (authenticationTagAsString != null)
        {
            if (string.Compare(authenticationTagAsString, Role, true) == 0)
            {
                return true;
            }
        }
        
        return false;
    }
}
</pre><p>2) Register the authentication provider in the ServiceLocator:</p>
<pre class="nocode">Catel.IoC.ServiceLocator.Instance.RegisterType&lt;IAuthenticationProvider, AuthenticationProvider&gt;();
</pre><p>3)Â Add the following XML namespaces to your view:</p>
<pre class="nocode">xmlns:i=&quot;clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity&quot;
xmlns:catel=&quot;http://catel.codeplex.com&quot;
</pre><p>4) Add the behavior. As you can see, it is possible to provide a custom <em>AuthenticationTag</em>, which is passed to the <em>IAuthenticationProvider</em>:</p>
<pre class="nocode">&lt;TextBox&gt;
  &lt;i:Interaction.Behaviors&gt;
    &lt;catel:Authentication AuthenticationTag=&quot;Administrator&quot; Action=&quot;Disable&quot; /&gt;
  &lt;/i:Interaction.Behaviors&gt;
&lt;/TextBox&gt;
</pre><p>5) Below are screenshots of the example applications (which can be found at <a href="http://catelexamples.codeplex.com" target="_blank">http://catelexamples.codeplex.com</a>):</p>
<p><strong>Logged in as administrator:</strong></p>
<p>**<img src="attachments/1409066/1507337.png" />
**</p>
<p><strong>Logged in as read-only user:</strong></p>
<p><img src="attachments/1409066/1507338.png" /></p>
<h2 id="attachments">Attachments:<a class="headerlink" href="#attachments" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p><img src="images/icons/bullet_blue.gif" /> <a href="attachments/1409066/1507337.png">authentication_administrator.png</a> (image/png)
 <img src="images/icons/bullet_blue.gif" /> <a href="attachments/1409066/1507338.png">authentication_readonly.png</a> (image/png)</p>

                    </div>
                </div>
                <footer>
                    <hr />
                    <div role="contentinfo">

                    </div>
                </footer>
            </div>
        </section>
    </div>
    <script src="../../js/jquery-2.1.1.min.js"></script>
    <script src="../../js/modernizr-2.8.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script src="../../js/theme.js"></script>

</body>
</html>
