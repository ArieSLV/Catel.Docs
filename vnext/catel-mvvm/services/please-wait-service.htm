<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>PleaseWaitService - Catel documentation</title>
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../css/theme_colors.css" type="text/css" />
    <link rel="stylesheet" href="../../css/styles/vs.css">
    <link rel="stylesheet" href="../../css/font-awesome.4.5.0.min.css">
</head>
<body role="document">
    <div class="grid-for-nav">
        <nav data-toggle="nav-shift" class="nav-side stickynav">
            <div class="side-nav-search">
                <a href="/"><i class="fa fa-home"></i> Catel documentation</a>
                <div role="search">
                    <form id="search-form" class="form" action="../../Docnet_search.htm" method="get">
                        <input type="text" name="q" placeholder="Search docs" />
                    </form>
                </div>
            </div>
            <div class="menu menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
<ul>
<li class="tocentry"><a href="../../Home.htm">Home</a>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Introduction.htm">Introduction</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../FAQ.htm">FAQ</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Setup,deployment&projects.htm">Setup, deployment & projects</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Gettingstarted.htm">Getting started</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Examples.htm">Examples</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../CatelCore.htm">Catel.Core</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../CatelMVVM.htm">Catel.MVVM</a></span></li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Auditing.htm">Auditing</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Behaviors&triggers.htm">Behaviors & triggers</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Bindings.htm">Bindings</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Commands&events.htm">Commands & events</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Converters.htm">Converters</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Designers.htm">Designers</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Locators&namingconventions.htm">Locators & naming conventions</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../Services.htm">Services</a></span></li>
<li class="tocentry"><a href="../../catel-mvvm/services/location-service.htm">LocationService</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/services/message-service.htm">MessageService</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/services/navigation-service.htm">NavigationService</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/services/open-file-service.htm">OpenFileService</a>
</li>
<li class="tocentry current"><a class="current" href="../../catel-mvvm/services/please-wait-service.htm">PleaseWaitService</a>
<ul class="currentrelative">
<li class="tocentry"><a href="#showing">Showing</a></li>
<li class="tocentry"><a href="#hiding">Hiding</a></li>
<li class="tocentry"><a href="#showing-and-automatically-hide">Showing and automatically hide</a></li>
<li class="tocentry"><a href="#changing-the-status">Changing the status</a></li>
<li class="tocentry"><a href="#showing-a-determinate-please-wait-window">Showing a determinate please wait window</a></li>
<li class="tocentry"><a href="#pushpop">Push/Pop</a></li>
<li class="tocentry"><a href="#attachments">Attachments:</a></li>
</ul>
<li class="tocentry"><a href="../../catel-mvvm/services/process-service.htm">ProcessService</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/services/save-file-service.htm">SaveFileService</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/services/scheduler-service.htm">SchedulerService</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/services/select-directory-service.htm">SelectDirectoryService</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/services/ui-visualizer-service.htm">UIVisualizerService</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/services/vibrate-service.htm">VibrateService</a>
</li>
<li class="tocentry"><a href="../../catel-mvvm/services/view-export-service.htm">ViewExportService</a>
</li>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Viewmodels.htm">View models</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Views.htm">Views</a></span>
</li>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../tips-tricks/index.htm">Tips & tricks</a></span>
</li>

</ul>
				<div class="toc-footer">
					<span class="text-small">
						<hr/>
						<a href="https://github.com/FransBouma/DocNet" target="_blank">Made with <i class="fa fa-github"></i> DocNet</a>
					</span>
				</div>	
			</div>
            &nbsp;
        </nav>
        <section data-toggle="nav-shift" class="nav-content-wrap">
            <nav class="nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="nav-top" class="fa fa-bars"></i>
                <a href="../../index.htm">Catel documentation</a>
            </nav>
            <div class="nav-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <div class="breadcrumbs">
<ul><li><a href="../../Home.htm">Home</a></li> / <li><a href="../../CatelMVVM.htm">Catel.MVVM</a></li> / <li><a href="../../Services.htm">Services</a></li> / <li><a href="../../catel-mvvm/services/please-wait-service.htm">PleaseWaitService</a></li></ul>
					
                    </div>
                    <hr />
                </div>
                <div role="main">
                    <div class="section">
<h1 id="pleasewaitservice">PleaseWaitService<a class="headerlink" href="#pleasewaitservice" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>The <em>IPleaseWaitService</em> allows a developer to show a please wait message (a.k.a. busy indicator) from a view model.Â </p>
<p><img src="attachments/1409211/1507348.png" /></p>
<h2 id="showing">Showing<a class="headerlink" href="#showing" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<pre class="nocode">using Catel.IoC;
</pre><pre class="nocode">var dependencyResolver = this.GetDependencyResolver();
var pleaseWaitService = dependencyResolver.Resolve&lt;IPleaseWaitService&gt;();
pleaseWaitService.Show();
</pre><h2 id="hiding">Hiding<a class="headerlink" href="#hiding" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<pre class="nocode">var dependencyResolver = this.GetDependencyResolver();
var pleaseWaitService = dependencyResolver.Resolve&lt;IPleaseWaitService&gt;();
pleaseWaitService.Hide();
</pre><h2 id="showing-and-automatically-hide">Showing and automatically hide<a class="headerlink" href="#showing-and-automatically-hide" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>The <em>IPleaseWaitService</em> can automatically hide itself when an action is completed. To use this feature, simply pass a delegate to the <em>Show</em> method and the service will hide the window as soon as the delegate has completed.</p>
<pre class="nocode">using Catel.IoC;
</pre><pre class="nocode">var dependencyResolver = this.GetDependencyResolver();
var pleaseWaitService = dependencyResolver.Resolve&lt;IPleaseWaitService&gt;();
pleaseWaitService.Show(() =&gt; Thread.Sleep(1500));
</pre><h2 id="changing-the-status">Changing the status<a class="headerlink" href="#changing-the-status" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<pre class="nocode">var dependencyResolver = this.GetDependencyResolver();
var pleaseWaitService = dependencyResolver.Resolve&lt;IPleaseWaitService&gt;();
pleaseWaitService.UpdateStatus(&quot;new status&quot;);
</pre><h2 id="showing-a-determinate-please-wait-window">Showing a determinate please wait window<a class="headerlink" href="#showing-a-determinate-please-wait-window" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>By default, the <em>IPleaseWaitService</em> shows an indeterminate state (no actual progress is visible).</p>
<p>The <em>UpdateStatus</em> method can be used to show the window. The <em>statusFormat</em> argument can contain '{0}' (represents the current item) and '{1}' (represents the total items). However, they can also be left out.</p>
<pre class="nocode">var dependencyResolver = this.GetDependencyResolver();
var pleaseWaitService = dependencyResolver.Resolve&lt;IPleaseWaitService&gt;();
pleaseWaitService.UpdateStatus(1, 5, &quot;Updating item {0} of {1}&quot;);
</pre><p>The determinate version can be hidden via a call to <em>Hide</em> or when the currentItem argument is larger than the number of totalItems.</p>
<h2 id="pushpop">Push/Pop<a class="headerlink" href="#pushpop" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Sometimes, multiple view models or multiple actions use the service. It's not possible to hide the window when the first action is completed, because the user will still have to wait for the other actions to complete (without a please wait window). To implement this correctly, it is possible to use the <em>Push</em> and <em>Pop</em> methods.</p>
<p>The <em>Push</em> method shows the window if it is not already visible and then increases an internal counter. At the start of each (asynchronous) action, the developer can call the <em>Push</em> method. When the action is completed, the developer calls <em>Pop</em> which will internally decrease the counter. If the counter hits zero (0), the window is automatically hidden.</p>
<p>It is possible to hide the window, even when the internal counter is not yet zero. A call to <em>Hide</em> will reset the counter to zero and thus hide the window.</p>
<h2 id="attachments">Attachments:<a class="headerlink" href="#attachments" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p><img src="images/icons/bullet_blue.gif" /> <a href="attachments/1409211/1507348.png">services_pleasewaitservice.png</a> (image/png)</p>

                    </div>
                </div>
                <footer>
                    <hr />
                    <div role="contentinfo">

                      <p>Is this section not up-to-date or found an issue? Please <a href="https://github.com/Catel/catel.github.io/blob/master/src/../src/vnext/catel-mvvm/services/please-wait-service.md" target="_blank">contribute</a>!</p>
                    </div>
                </footer>
            </div>
        </section>
    </div>
    <script src="../../js/jquery-2.1.1.min.js"></script>
    <script src="../../js/modernizr-2.8.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script src="../../js/theme.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-25600919-4', 'auto');
      ga('send', 'pageview');
    
    </script>
</body>
</html>
