<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Json - Catel documentation</title>
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../css/theme_colors.css" type="text/css" />
    <link rel="stylesheet" href="../../../css/styles/vs.css">
    <link rel="stylesheet" href="../../../css/font-awesome.4.5.0.min.css">
</head>
<body role="document">
    <div class="grid-for-nav">
        <nav data-toggle="nav-shift" class="nav-side stickynav">
            <div class="side-nav-search">
                <a href="/"><i class="fa fa-home"></i> Catel documentation</a>
                <div role="search">
                    <form id="search-form" class="form" action="../../../Docnet_search.htm" method="get">
                        <input type="text" name="q" placeholder="Search docs" />
                    </form>
                </div>
            </div>
            <div class="menu menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
<ul>
<li class="tocentry"><a href="../../../Home.htm">Home</a>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Introduction.htm">Introduction</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../FAQ.htm">FAQ</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Setup,deployment&projects.htm">Setup, deployment & projects</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Gettingstarted.htm">Getting started</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Examples.htm">Examples</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../../CatelCore.htm">Catel.Core</a></span></li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../ApiCop.htm">ApiCop</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Argumentchecking.htm">Argument checking</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Caching.htm">Caching</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Configuration.htm">Configuration</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Datahandling.htm">Data handling</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Exceptionhandling.htm">Exception handling</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../IoC(ServiceLocator&TypeFactory).htm">IoC (ServiceLocator & TypeFactory)</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Logging.htm">Logging</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Messaging.htm">Messaging</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Multilingual.htm">Multilingual</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Parallelinvocation&tasks.htm">Parallel invocation & tasks</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Pooling.htm">Pooling</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Preventingmemoryleaks.htm">Preventing memory leaks</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Reflection.htm">Reflection</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Scoping.htm">Scoping</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../../Serialization.htm">Serialization</a></span></li>
<li class="tocentry"><a href="../../../catel-core/serialization/introduction.htm">Introduction</a>
</li>
<li class="tocentry"><a href="../../../catel-core/serialization/specifying-what-gets-serialized.htm">Specifying what gets serialized</a>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Customizingserialization.htm">Customizing serialization</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../../Supportedserializers.htm">Supported serializers</a></span></li>
<li class="tocentry"><a href="../../../catel-core/serialization/supported-serializers/binary.htm">Binary</a>
</li>
<li class="tocentry current"><a class="current" href="../../../catel-core/serialization/supported-serializers/json.htm">Json</a>
<ul class="currentrelative">
<li class="tocentry"><a href="#customizing-configuration">Customizing configuration</a></li>
<li class="tocentry"><a href="#preserve-references-and-support-circular-references">Preserve references (and support circular references)</a></li>
<li class="tocentry"><a href="#support-complex-dynamic-types">Support complex dynamic types</a></li>
</ul>
<li class="tocentry"><a href="../../../catel-core/serialization/supported-serializers/xml.htm">Xml</a>
</li>

</ul>
</li>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../Validation.htm">Validation</a></span>
</li>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../CatelMVVM.htm">Catel.MVVM</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../CatelFody.htm">Catel.Fody</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../CatelReSharper.htm">Catel.ReSharper</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../tips-tricks/index.htm">Tips & tricks</a></span>
</li>

</ul>
				<div class="toc-footer">
					<span class="text-small">
						<hr/>
						<a href="https://github.com/FransBouma/DocNet" target="_blank">Made with <i class="fa fa-github"></i> DocNet</a>
					</span>
				</div>	
			</div>
            &nbsp;
        </nav>
        <section data-toggle="nav-shift" class="nav-content-wrap">
            <nav class="nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="nav-top" class="fa fa-bars"></i>
                <a href="../../../index.htm">Catel documentation</a>
            </nav>
            <div class="nav-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <div class="breadcrumbs">
<ul><li><a href="../../../Home.htm">Home</a></li> / <li><a href="../../../CatelCore.htm">Catel.Core</a></li> / <li><a href="../../../Serialization.htm">Serialization</a></li> / <li><a href="../../../Supportedserializers.htm">Supported serializers</a></li> / <li><a href="../../../catel-core/serialization/supported-serializers/json.htm">Json</a></li></ul>
					
                    </div>
                    <hr />
                </div>
                <div role="main">
                    <div class="section">
<h1 id="jsonserializer">JsonSerializer<a class="headerlink" href="#jsonserializer" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>The <em>JsonSerializer</em> is implemented in a separate assembly because it uses Json.Net under the hood.</p>
<h2 id="customizing-configuration">Customizing configuration<a class="headerlink" href="#customizing-configuration" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>The <em>JsonSerializationConfiguration</em> enables support for customizing the configuration used while (de)serializing. Below is an example</p>
<h3 id="using-bson-instead-of-json">Using Bson instead of Json<a class="headerlink" href="#using-bson-instead-of-json" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>To use Bson instead of Json, use the <em>JsonSerializationConfiguration</em> class:</p>
<pre class="nocode">var configuration = new JsonSerializationConfiguration
{
    UseBson = true
};

jsonSerializer.Serialize(myObject, configuration);
</pre><h3 id="specifying-the-culture-to-use-during-deserialization">Specifying the culture to use during (de)serialization<a class="headerlink" href="#specifying-the-culture-to-use-during-deserialization" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>To specify the culture to use during (de)serialization, set the <em>Culture</em> property on the configuration class:</p>
<pre class="nocode">var configuration = new SerializationConfiguration
{
    Culture = new CultureInfo(&quot;nl-NL&quot;)
};


jsonSerializer.Serialize(myObject, configuration);
</pre><h2 id="preserve-references-and-support-circular-references">Preserve references (and support circular references)<a class="headerlink" href="#preserve-references-and-support-circular-references" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>By default the <em>JsonSerializer</em> supports circular references. It does so by adding additional property values to the json. Below is a json object with support for circular references:</p>
<pre class="nocode">{  
   &quot;$graphid&quot;:1,
   &quot;Name&quot;:&quot;1&quot;,
   &quot;CircularModel&quot;:{  
      &quot;$graphid&quot;:2,
      &quot;Name&quot;:&quot;2&quot;,
      &quot;CircularModel&quot;:{  
         &quot;$graphrefid&quot;:1
      }
   }
}
</pre><p>or</p>
<pre class="nocode">{
    &quot;$graphid&quot;: 1,
    &quot;Collection1&quot;: [1,
    2,
    3,
    4,
    5],
    &quot;$Collection1_$graphid&quot;: 2,
    &quot;Collection2&quot;: [1,
    2,
    3,
    4,
    5],
    &quot;$Collection2_$graphrefid&quot;: 2
}
</pre><p>To disable the support for reference preservation, use the code below:</p>
<pre class="nocode">var jsonSerializer = dependencyResolver.Resolve&lt;IJsonSerializer&gt;();
jsonSerializer.PreserveReferences = false;
</pre><h2 id="support-complex-dynamic-types">Support complex dynamic types<a class="headerlink" href="#support-complex-dynamic-types" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Catel can support complex dynamic types. For this to be supported in json, the objects need additional type information in order to restore the type info again during deserialization. Below is a json object with the type information stored inside the json:</p>
<pre class="nocode">{  
   &quot;$typename&quot;:&quot;Catel.Test.Data.IniFile&quot;,
   &quot;FileName&quot;:&quot;MyIniFile&quot;,
   &quot;IniEntryCollection&quot;:[  
      {  
         &quot;$typename&quot;:&quot;Catel.Test.Data.IniEntry&quot;,
         &quot;Group&quot;:&quot;Group 0&quot;,
         &quot;Key&quot;:&quot;Key 0&quot;,
         &quot;Value&quot;:&quot;Value 0&quot;,
         &quot;IniEntryType&quot;:0
      },
      {  
         &quot;$typename&quot;:&quot;Catel.Test.Data.IniEntry&quot;,
         &quot;Group&quot;:&quot;Group 1&quot;,
         &quot;Key&quot;:&quot;Key 1&quot;,
         &quot;Value&quot;:&quot;Value 1&quot;,
         &quot;IniEntryType&quot;:1
      },
      {  
         &quot;$typename&quot;:&quot;Catel.Test.Data.IniEntry&quot;,
         &quot;Group&quot;:&quot;Group 2&quot;,
         &quot;Key&quot;:&quot;Key 2&quot;,
         &quot;Value&quot;:&quot;Value 2&quot;,
         &quot;IniEntryType&quot;:0
      }
   ]
}
</pre><p>To disable the type information in json, use the code below:</p>
<pre class="nocode">var jsonSerializer = dependencyResolver.Resolve&lt;IJsonSerializer&gt;();
jsonSerializer.WriteTypeInfo = false;
</pre>
                    </div>
                </div>
                <footer>
                    <hr />
                    <div role="contentinfo">

                      <p>Is this section not up-to-date or found an issue? Please <a href="https://github.com/Catel/catel.github.io/blob/master/src/../src/vnext/catel-core/serialization/supported-serializers/json.md" target="_blank">contribute</a>!</p>
                    </div>
                </footer>
            </div>
        </section>
    </div>
    <script src="../../../js/jquery-2.1.1.min.js"></script>
    <script src="../../../js/modernizr-2.8.3.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    <script src="../../../js/theme.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-25600919-4', 'auto');
      ga('send', 'pageview');
    
    </script>
</body>
</html>
