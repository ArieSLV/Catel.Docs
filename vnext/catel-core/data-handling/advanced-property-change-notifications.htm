<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Advanced property change notifications - Catel documentation</title>
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../css/theme_colors.css" type="text/css" />
    <link rel="stylesheet" href="../../css/styles/vs.css">
    <link rel="stylesheet" href="../../css/font-awesome.4.5.0.min.css">
</head>
<body role="document">
    <div class="grid-for-nav">
        <nav data-toggle="nav-shift" class="nav-side stickynav">
            <div class="side-nav-search">
                <a href="../../index.htm"><i class="fa fa-home"></i> Catel documentation</a>
                <div role="search">
                    <form id="search-form" class="form" action="../../Docnet_search.htm" method="get">
                        <input type="text" name="q" placeholder="Search docs" />
                    </form>
                </div>
            </div>
            <div class="menu menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
<ul>
<li class="tocentry"><a href="../../Home.htm">Home</a>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Introduction.htm">Introduction</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../FAQ.htm">FAQ</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Setup,deployment&projects.htm">Setup, deployment & projects</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Gettingstarted.htm">Getting started</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Examples.htm">Examples</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../CatelCore.htm">Catel.Core</a></span></li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../ApiCop.htm">ApiCop</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../catel-core/argument-checking/index.htm">Argument checking</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../catel-core/caching/index.htm">Caching</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../catel-core/configuration/index.htm">Configuration</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../Datahandling.htm">Data handling</a></span></li>
<li class="tocentry"><a href="../../catel-core/data-handling/introduction.htm">Introduction</a>
</li>
<li class="tocentry"><a href="../../catel-core/data-handling/observableobject.htm">ObservableObject</a>
</li>
<li class="tocentry"><a href="../../catel-core/data-handling/dispatcherobservableobject.htm">DispatcherObservableObject</a>
</li>
<li class="tocentry"><a href="../../catel-core/data-handling/modelbase.htm">ModelBase</a>
</li>
<li class="tocentry"><a href="../../catel-core/data-handling/using-modelbase-as-base-for-entities.htm">Using ModelBase as base for entities</a>
</li>
<li class="tocentry current"><a class="current" href="../../catel-core/data-handling/advanced-property-change-notifications.htm">Advanced property change notifications</a>
<ul class="currentrelative">
<li class="tocentry"><a href="#getting-old-value-automatically">Getting old value automatically</a></li>
<li class="tocentry"><a href="#providing-old-value-manually">Providing old value manually</a></li>
<li class="tocentry"><a href="#some-sidenotes">Some sidenotes</a></li>
</ul>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Exceptionhandling.htm">Exception handling</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../IoC(ServiceLocator&TypeFactory).htm">IoC (ServiceLocator & TypeFactory)</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Logging.htm">Logging</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Messaging.htm">Messaging</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Multilingual.htm">Multilingual</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Parallelinvocation&tasks.htm">Parallel invocation & tasks</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Pooling.htm">Pooling</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Preventingmemoryleaks.htm">Preventing memory leaks</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Reflection.htm">Reflection</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Scoping.htm">Scoping</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Serialization.htm">Serialization</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../Validation.htm">Validation</a></span>
</li>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../CatelMVVM.htm">Catel.MVVM</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../tips-tricks/index.htm">Tips & tricks</a></span>
</li>

</ul>
				<div class="toc-footer">
					<span class="text-small">
						<hr/>
						<a href="https://github.com/FransBouma/DocNet" target="_blank">Made with <i class="fa fa-github"></i> DocNet</a>
					</span>
				</div>	
			</div>
            &nbsp;
        </nav>
        <section data-toggle="nav-shift" class="nav-content-wrap">
            <nav class="nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="nav-top" class="fa fa-bars"></i>
                <a href="../../index.htm">Catel documentation</a>
            </nav>
            <div class="nav-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <div class="breadcrumbs">
<ul><li><a href="../../Home.htm">Home</a></li> / <li><a href="../../CatelCore.htm">Catel.Core</a></li> / <li><a href="../../Datahandling.htm">Data handling</a></li> / <li><a href="../../catel-core/data-handling/advanced-property-change-notifications.htm">Advanced property change notifications</a></li></ul>
					
                    </div>
                    <hr />
                </div>
                <div role="main">
                    <div class="section">
<h1 id="advanced-property-change-notifications">Advanced property change notifications<a class="headerlink" href="#advanced-property-change-notifications" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>Sometimes the old value is needed in case of property change event. However, the <em>INotifyPropertyChanged</em> interface does not provide any of this. To support this behavior, a new version of the <em>PropertyChangedEventArgs</em> is created called <em>AdvancedPropertyChangedEventArgs.</em> This class derives from <em>PropertyChangedEventArgs</em> so the interfaces are not broken, but it does add additional functionality to the software system.</p>
<h2 id="getting-old-value-automatically">Getting old value automatically<a class="headerlink" href="#getting-old-value-automatically" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>When using the <em>ModelBase</em> or <em>ViewModelBase</em> classes, the old and new value of a property are automatically provided on a property change. There are two ways to get more information about a property change event.</p>
<h3 id="getting-more-information-from-the-inside">Getting more information from the inside<a class="headerlink" href="#getting-more-information-from-the-inside" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>The easiest way to get more information on the inside is to override the <em>OnPropertyChanged</em> method. It automatically provides an instance of the <em>AdvancedPropertyChangedEventArgs:</em></p>
<pre class="nocode">{.java data-syntaxhighlighter-params=&quot;brush: java; gutter: false; theme: Confluence&quot; data-theme=&quot;Confluence&quot; style=&quot;brush: java; gutter: false; theme: Confluence&quot;}
protected override void OnPropertyChanged(AdvancedPropertyChangedEventArgs e)
{
}
</pre><h3 id="getting-mode-information-from-the-outside">Getting mode information from the outside<a class="headerlink" href="#getting-mode-information-from-the-outside" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>Getting the information from outside the objects is a bit more work. This is because the <em>PropertyChanged</em> event still provides a value of the <em>PropertyChangedEventArgs</em> class. Therefore, it is required to cast the value:</p>
<pre class="nocode">{.java data-syntaxhighlighter-params=&quot;brush: java; gutter: false; theme: Confluence&quot; data-theme=&quot;Confluence&quot; style=&quot;brush: java; gutter: false; theme: Confluence&quot;}
private void OnObjectPropertyChanged(PropertyChangedEventArgs e)
{
    var advancedArgs = e as AdvancedPropertyChangedEventArgs;
    if (advancedArgs != null)
    {
        // a value of AdvancedPropertyChangedEventArgs is now available
    }
}
</pre><h2 id="providing-old-value-manually">Providing old value manually<a class="headerlink" href="#providing-old-value-manually" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>When using the dependency property a-like property registration, the old and new value are automatically provided by the classes. However, when using the <em>ObservableObject,</em> the old and new value are not automatically provided. Therefore, it is possible to provide these values manually:</p>
<pre class="nocode">{.java data-syntaxhighlighter-params=&quot;brush: java; gutter: false; theme: Confluence&quot; data-theme=&quot;Confluence&quot; style=&quot;brush: java; gutter: false; theme: Confluence&quot;}
private string _firstName;
public string FirstName
{
    get { return _firstName; }
    set 
    { 
        var oldValue = _firstName;
        _firstName = value;
        
        RaisePropertyChanged(() =&gt; FirstName, oldValue, value);
    }
}
</pre><p>When the values are not provided, the old and new value are set to null.</p>
<h2 id="some-sidenotes">Some sidenotes<a class="headerlink" href="#some-sidenotes" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>As you might have noticed, the <em>AdvancedPropertyChangedEventArgs</em> also provide the <em>IsOldValueMeaningful</em> and the <em>IsNewValueMeaningful.</em> These are introduced because it is not always possible to determine the old or new value (for example, when the property name is string.Empty, there is no old value or new value). Therefore, the <em>OldValue</em> and <em>NewValue</em> properties are null, but doesn't mean that those are the actual old and new values.</p>
<p>It is always required to check whether the values are meaningful before actually handing them:</p>
<pre class="nocode">{.java data-syntaxhighlighter-params=&quot;brush: java; gutter: false; theme: Confluence&quot; data-theme=&quot;Confluence&quot; style=&quot;brush: java; gutter: false; theme: Confluence&quot;}
protected override void OnPropertyChanged(AdvancedPropertyChangedEventArgs e)
{
    if (e.IsOldValueMeaningful)
    {
        // Handle old value
    }

    if (e.IsNewValueMeaningful)
    {
        // Handle new value
    }
}
</pre>
                    </div>
                </div>
                <footer>
                    <hr />
                    <div role="contentinfo">

                    </div>
                </footer>
            </div>
        </section>
    </div>
    <script src="../../js/jquery-2.1.1.min.js"></script>
    <script src="../../js/modernizr-2.8.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script src="../../js/theme.js"></script>

</body>
</html>
