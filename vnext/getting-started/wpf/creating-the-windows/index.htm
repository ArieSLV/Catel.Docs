<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Creating the windows - Catel documentation</title>
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../css/theme_colors.css" type="text/css" />
    <link rel="stylesheet" href="../../../css/styles/vs.css">
    <link rel="stylesheet" href="../../../css/font-awesome.4.5.0.min.css">
</head>
<body role="document">
    <div class="grid-for-nav">
        <nav data-toggle="nav-shift" class="nav-side stickynav">
            <div class="side-nav-search">
                <a href="/welcome/index.htm"><i class="fa fa-home"></i> Catel documentation</a>
                <div role="search">
                    <form id="search-form" class="form" action="../../../Docnet_search.htm" method="get">
                        <input type="text" name="q" placeholder="Search docs" />
                    </form>
                </div>
            </div>
            <div class="menu menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
<ul>
<li class="tocentry"><a href="../../../home.htm">Home</a>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../introduction/">Introduction</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../faq/">FAQ</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../setup-deployment/">Setup, deployment & projects</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../../getting-started/">Getting started</a></span></li>
<li class="tocentry"><a href="../../../getting-started/quick-introduction-for-developers/">Quick introduction for developers</a>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../../../getting-started/wpf/">WPF</a></span></li>
<li class="tocentry"><a href="../../../getting-started/wpf/introduction/">Introduction</a>
</li>
<li class="tocentry"><a href="../../../getting-started/wpf/creating-the-project/">Creating the project</a>
</li>
<li class="tocentry"><a href="../../../getting-started/wpf/creating-the-models/">Creating the models</a>
</li>
<li class="tocentry"><a href="../../../getting-started/wpf/serializing-data-from-to-disk/">Serializing data from/to disk</a>
</li>
<li class="tocentry"><a href="../../../getting-started/wpf/creating-the-view-models/">Creating the view models</a>
</li>
<li class="tocentry"><a href="../../../getting-started/wpf/creating-the-user-controls/">Creating the user controls</a>
</li>
<li class="tocentry current"><a class="current" href="../../../getting-started/wpf/creating-the-windows/">Creating the windows</a>
<ul class="currentrelative">
<li class="tocentry"><a href="#person-window">Person window</a></li>

<li class="tocentry"><a href="#family-window">Family window</a></li>
<li class="tocentry">
<ul class="currentrelative">
<li class="tocentry"><a href="#creating-thefamilywindowviewmodel">Creating the FamilyWindowViewModel</a></li>

<li class="tocentry"><a href="#creating-the-familywindow">Creating the FamilyWindow</a></li>


</ul>
</li>

<li class="tocentry"><a href="#up-next">Up next</a></li>



</ul>
<li class="tocentry"><a href="../../../getting-started/wpf/hooking-up-everything-together/">Hooking up everything together</a>
</li>
<li class="tocentry"><a href="../../../getting-started/wpf/finalizing-the-application/">Finalizing the application</a>
</li>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../getting-started/xamarin-forms/">Xamarin Forms</a></span>
</li>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../examples/">Examples</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../catel-core/">Catel.Core</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../catel-mvvm/">Catel.MVVM</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../catel-fody/">Catel.Fody</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../catel-resharper/">Catel.ReSharper</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../tips-tricks/">Tips & tricks</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../../../reference/">API reference</a></span>
</li>

</ul>
				<div class="toc-footer">
					<span class="text-small">
						<hr/>
						<a href="https://github.com/FransBouma/DocNet" target="_blank">Made with <i class="fa fa-github"></i> DocNet</a>
					</span>
				</div>	
			</div>
            &nbsp;
        </nav>
        <section data-toggle="nav-shift" class="nav-content-wrap">
            <nav class="nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="nav-top" class="fa fa-bars"></i>
                <a href="../../../index.htm">Catel documentation</a>
            </nav>
            <div class="nav-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <div class="breadcrumbs">
<ul><li><a href="../../../home.htm">Home</a></li> / <li><a href="../../../getting-started/index.htm">Getting started</a></li> / <li><a href="../../../getting-started/wpf/index.htm">WPF</a></li> / <li><a href="../../../getting-started/wpf/creating-the-windows/index.htm">Creating the windows</a></li></ul>

                    </div>
                    <hr />
                </div>
                <div role="main">
                    <div class="section">
<h1 id="creating-the-views-windows">Creating the views (windows)<a class="headerlink" href="#creating-the-views-windows" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>In this step we will create the windows for the application. In the previous step we already created the user controls. Windows are a great way to show in an edit-context. Catel provides great edit-windows in the form of the <em>DataWindow</em>. This is a window that automatically adds <em>OK</em> and <em>Cancel</em> buttons (but of course allows customization of the buttons and behavior).</p>
<h2 id="person-window">Person window<a class="headerlink" href="#person-window" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<div class="alert alert-warning"><span class="alert-title"><i class="fa fa-warning"></i> Important!</span><p>It is very important that the window derives from one of the Catel windows. This is required to make the binding system work (same as <em>UserControl</em>). Make sure that the window definition in the xaml is either <em>catel:Window</em> or <em>catel:DataWindow</em></p>
</div><p>To add a new <em>DataWindow</em>, right-click the <em>Views</em> folder in the solution =&gt; <em>Add</em> =&gt; <em>New item...</em> =&gt; <em>On-line</em> =&gt; and search for Catel as you can see in the screen below:</p>
<p><img src="../../../images/getting-started/wpf/creating-the-windows/itemtemplate.png" width="955" height="660" /></p>
<p>Give the new view the name <em>PersonWindow</em>. The view will be added to the <em>Views</em> folder.</p>
<div class="alert alert-warning"><span class="alert-title"><i class="fa fa-warning"></i> Important!</span><p>Note that we can use the <em>PersonViewModel</em> for both the <em>PersonView</em> (user control) and <em>PersonWindow</em>. Both views represent the same models and view models, just a different context. To make sure that the <em>IUIVisualizerService</em> knows what view to pick first, register the <em>PersonWindow</em> in the <em>IUIVisualizerService</em> at application startup:</p>
<pre class="nocode">var uiVisualizerService = serviceLocator.ResolveType&lt;IUIVisualizerService&gt;();
uiVisualizerService.Register(typeof(PersonViewModel), typeof(PersonWindow));
</pre></div><p>The template will also create a constructor to inject a view model into the window. Please make sure that the constructor takes a view model of the type <em>PersonViewModel</em> instead of the generated <em>PersonWindowModel</em>. Then replace the content of the view with the xaml below:</p>
<pre class="nocode">&lt;catel:StackGrid&gt;
    &lt;catel:StackGrid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
        &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
    &lt;/catel:StackGrid.RowDefinitions&gt;
    &lt;catel:StackGrid.ColumnDefinitions&gt;
        &lt;ColumnDefinition Width=&quot;Auto&quot; /&gt;
        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
    &lt;/catel:StackGrid.ColumnDefinitions&gt;

    &lt;Label Content=&quot;First name&quot; /&gt;
    &lt;TextBox Text=&quot;{Binding FirstName, ValidatesOnDataErrors=True, NotifyOnValidationError=True}&quot; /&gt;

    &lt;Label Content=&quot;Last name&quot; /&gt;
    &lt;TextBox Text=&quot;{Binding LastName, ValidatesOnDataErrors=True, NotifyOnValidationError=True}&quot; /&gt;
&lt;/catel:StackGrid&gt;
</pre><h2 id="family-window">Family window<a class="headerlink" href="#family-window" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>The <em>FamilyWindow</em> is a bit different because we want additional logic in this window. We want to create add / edit / remove buttons for the family members. Therefore we need to create a separate view model which contains this logic. </p>
<h3 id="creating-thefamilywindowviewmodel">Creating the FamilyWindowViewModel<a class="headerlink" href="#creating-thefamilywindowviewmodel" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>Since the <em>FamilyWindowViewModel</em> will look a lot like the <em>FamilyViewModel</em>, just copy/paste the <em>FamilyViewModel</em> and rename the copy to <em>FamilyWindowViewModel</em>.</p>
<div class="alert alert-warning"><span class="alert-title"><i class="fa fa-warning"></i> Important!</span><p>Note that the <em>FamilyWindowViewModel</em> needs additional logic, but that will be handled in the next part of this getting started guide</p>
</div><h3 id="creating-the-familywindow">Creating the FamilyWindow<a class="headerlink" href="#creating-the-familywindow" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>Once the <em>FamilyWindowViewModel</em> is created, the <em>FamilyWindow <em>must be created exactly the same way as the <em>PersonWindow</em>. Again make sure to use the right view model (</em>FamilyWindowViewModel</em>) in the constructor of the window in the code-behind. Then use the following xaml:</p>
<pre class="nocode">&lt;catel:StackGrid&gt;
    &lt;catel:StackGrid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
        &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
    &lt;/catel:StackGrid.RowDefinitions&gt;
    &lt;catel:StackGrid.ColumnDefinitions&gt;
        &lt;ColumnDefinition Width=&quot;Auto&quot; /&gt;
        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
    &lt;/catel:StackGrid.ColumnDefinitions&gt;

    &lt;Label Content=&quot;Family name&quot; /&gt;
    &lt;TextBox Text=&quot;{Binding FamilyName, NotifyOnValidationError=True, ValidatesOnDataErrors=True}&quot; /&gt;

    &lt;Label Grid.ColumnSpan=&quot;2&quot; Content=&quot;Persons&quot; /&gt;

    &lt;catel:StackGrid Grid.ColumnSpan=&quot;2&quot;&gt;
        &lt;catel:StackGrid.ColumnDefinitions&gt;
            &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
            &lt;ColumnDefinition Width=&quot;Auto&quot; /&gt;
        &lt;/catel:StackGrid.ColumnDefinitions&gt;

        &lt;ListBox ItemsSource=&quot;{Binding Persons}&quot; SelectedItem=&quot;{Binding SelectedPerson}&quot;&gt;
            &lt;ListBox.ItemTemplate&gt;
                &lt;DataTemplate&gt;
                    &lt;views:PersonView DataContext=&quot;{Binding}&quot; /&gt;
                &lt;/DataTemplate&gt;
            &lt;/ListBox.ItemTemplate&gt;
        &lt;/ListBox&gt;
            
        &lt;StackPanel&gt;
            &lt;Button Command=&quot;{Binding AddPerson}&quot; Content=&quot;Add...&quot; /&gt;
            &lt;Button Command=&quot;{Binding EditPerson}&quot; Content=&quot;Edit...&quot; /&gt;
            &lt;Button Command=&quot;{Binding RemovePerson}&quot; Content=&quot;Remove&quot; /&gt;
        &lt;/StackPanel&gt;
    &lt;/catel:StackGrid&gt;
&lt;/catel:StackGrid&gt;
</pre><h2 id="up-next">Up next<a class="headerlink" href="#up-next" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p><a href="./hooking-up-everything-together.htm">Hooking up everything together</a></p>

                    </div>
                </div>
                <footer>
                    <hr />
                    <div role="contentinfo">

                      <p>
					    Is this section not up-to-date or found an issue? Please <a href="https://github.com/Catel/Catel.Docs/blob/master/src/../src/vnext/getting-started/wpf/creating-the-windows.md" target="_blank">contribute</a>!
					  </p>
					  <p>
					    Have a question about Catel? Use <a href="https://stackoverflow.com/questions/tagged/catel" target="_blank">StackOverflow</a> with the <i>Catel</i> tag!
					  </p>
					  <hr />
					  <p>
					    <h2>Discussion</h2>
					   <div id="disqus_thread"></div>
					   <script>
					   var disqus_config = function () {
					   this.page.url = 'http://docs.catelproject.com/getting-started/wpf/creating-the-windows/index.htm';
					   this.page.identifier = '../src/vnext/getting-started/wpf/creating-the-windows.md';
					   };
					   (function() { // DON'T EDIT BELOW THIS LINE
					   var d = document, s = d.createElement('script');
					   s.src = 'https://catel-docs.disqus.com/embed.js';
					   s.setAttribute('data-timestamp', +new Date());
					   (d.head || d.body).appendChild(s);
					   })();
					   </script>
					   <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
					  </p>
					</div>
                </footer>
            </div>
        </section>
    </div>
    <script src="../../../js/jquery-2.1.1.min.js"></script>
    <script src="../../../js/modernizr-2.8.3.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    <script src="../../../js/theme.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-25600919-4', 'auto');
      ga('send', 'pageview');
    
    </script>
</body>
</html>
